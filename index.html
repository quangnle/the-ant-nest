<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ant Nest</title>
    <style>
        body {
            font-family: Calibri, sans-serif;
            font-size: 12px;
        }
        h4 {
            font-family: Calibri, sans-serif;
            font-size: 14px;
        }
        h5 {
            font-family: Calibri, sans-serif;
            font-size: 12px;
        }
        button {
            font-family: Calibri, sans-serif;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div style="display: flex;"></div>
        <div name="game-area" style="float: left;">            
            <div id="sketch-holder"><canvas id="main-canvas"></canvas></div>
            <p style="margin-bottom: 0; padding-bottom: 0;">Left click on an ant to select it. Right click to add more food or to plant a flower.</p>
        </div>
        <div name="control-area" style="float: left;">
            <div style="background-color: aliceblue; width: 250px; padding-top: 0px;"> 
                <h4 style="text-align: center; background-color: aquamarine;">Player Info - Legos</h4>                
                <p id="player-money">Money: $100</p>
                <p id="capacity">Capacity: 100</p>
                <p id="player-food">Food left: 10</p>
                <p id="population">Population: 1</p>
            </div>
            <div style="background-color: aliceblue; width: 250px; padding-top: 0px;"> 
                <h4 style="text-align: center; background-color: aquamarine;">Ant Info</h4>
                <div style="float: left; width: 55px; padding:2px">
                    <div id="ant-color-block" style="width: 50px; height: 50px; margin:2px; padding:-1px; border:#000; background-color: white; border-width: 2px;"></div>
                    <p id="ant-color-label" style="text-align:center"></p>
                </div>
                <textarea id="ant-genes-info" readonly rows="10" cols="20"></textarea><br/>
                <button id="kill-btn" style="margin-left: 2px;" onclick="sellAnAnt()">Sell it</button>
                <button id="bring-to-market">Bring it to the market</button>
            </div>                        
            <div style="background-color: aliceblue; width: 250px; padding-top: 0px;">
                <h4 style="text-align: center; background-color: aquamarine;">Flower Config</h4>
                <p style="margin: 1px;">Number of petals: <input type="number" id="petal-number" value="5" min="5" max="8" style="width: 25px;"></p>
                <div style="display:flex; margin:0px;">
                    <p style="float:left">Pistil Color: <input type="color" id="pistil-color" value="#ff0000"></p>
                    <p style="float:left; margin-left: 10px;">Size: <input type="number" id="pistil-size" value="5" min="3" max="7" style="width: 25px;"></p>                
                </div>
                <div style="display:flex; margin:0px;">
                    <p style="float:left">Petal Color: <input type="color" id="petal-color" value="#ffffff"></p>
                    <p style="float:left; margin-left: 10px;">Size: <input type="number" id="petal-size" value="5" min="3" max="7" style="width: 25px;"></p>
                </div>
                <button id="plan-btn" onclick="plan()">Plan a flower</button>
            </div>
        </div>        
    </div>

    <script src="patterns.js"></script>
    <script src="evolution.js"></script>
    <script src="ant.js"></script>
    <script src="flower.js"></script>
    <script src="land.js"></script>    
    <script src="control-panel.js"></script>  
    <script src="sketch.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.min.js" integrity="sha512-eu9vkh+EbAsW3fMmPTj/DP5W3UegIdu0Z/OABMocvoofx43MYBkcQ9hRIVxZndV1vcCYQwBg+U1PkWl04TD0Jg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>  
    <script>
    document.addEventListener('contextmenu', event => event.preventDefault());

    function sellAnAnt() {
        if (land.colony.length > 1 && selectedAnt != -1) {
            land.colony.splice(selectedAnt, 1);
            selectedAnt = -1;
        }
    }

    function plan() {        
        const petalNumber = document.getElementById("petal-number").value;

        const pistilColor = document.getElementById("pistil-color").value;
        const pistilSize = document.getElementById("pistil-size").value;

        const petalColor = document.getElementById("petal-color").value;
        const petalSize = document.getElementById("petal-size").value;

        let flower = new Flower(land.x + Math.random() * land.width, land.y + Math.random()*land.height, pistilSize, pistilColor, petalSize, petalColor, petalNumber);
        land.addObject(flower);
    }
    </script>
</body>
</html>